{% extends "template.html" %}
{% block title %}
Printer Cards
{% endblock %}

<body>
  <div id="layoutSidenav_content">
    <main>
      {% block main_content %}

      <section class="py-5 text-center container">
        <div class="row py-lg-5">
          <div class="col-lg-6 col-md-8 mx-auto">
            <h1 class="fw-light">Printer Cards</h1>
            <p class="lead text-body-secondary">
              Below is a list of all the printers that are currently connected to the system.
            </p>
            <a href="{% url 'printer_list' %}" class="btn btn-primary my-2">Your printers list <i class="fa-solid fa-rectangle-list"></i></a>
            <a href="#" class="btn btn-secondary my-2">Add a new printer <i class="fa-solid fa-plus"></i></a>
            </p>
          </div>
        </div>
      </section>

      <div class="album py-5 bg-body-tertiary">
        <div class="container">
          <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
            {% for printer in printers %}
            <div class="col">
              <div class="card shadow-lg fixed-card  {% if printer.ping %}bg-light border-success {% else %}bg-light border-primary {% endif %}">
                <svg class="bd-placeholder-img card-img-top" width="100%" height="225"
                  xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail"
                  preserveAspectRatio="xMidYMid slice" focusable="false">
                  <title>Placeholder</title>
                  <rect width="100%" height="100%" fill="#55595c"></rect>
                  <text x="50%" y="50%" fill="#eceeef" dy=".3em" text-anchor="middle">WebStream for printer 
                    {{printer.id}} </text>
                </svg>
                <div class="card-body card-content-center">
                  <p class="card-text">URL of the printer : {{printer.ip_address}}</p>
                  <div class="d-flex justify-content-between align-items-center">
                    <div class="btn-group card-buttons-group">
                      <button type="button" class="btn btn-sm btn-secondary card-buttons"
                        data-url="{% url 'printer_detail' printer.id %}"
                        onclick="location.href=this.getAttribute('data-url')" >View <i class="fa-solid fa-clock-rotate-left"></i></button>
                      <button type="button" class="btn btn-sm btn-secondary card-buttons"
                        data-url="{% url 'control_printer' printer.id %}"
                        onclick="location.href=this.getAttribute('data-url')" >Manage                         <i class="fa-solid fa-print"></i>
                      </button>
                    </div>
                    <!-- <small class="text-body-secondary">9 mins</small> -->
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>

  </div>
  {% endblock main_content %}
  </main>
  </div>
  </div>
</body>